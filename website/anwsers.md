## 参考链接

局域网、光域网、IP地址、NAT

https://www.bilibili.com/video/BV1DD4y127r4/

网站部署方案

https://www.bilibili.com/video/BV1Mt42187SY/

计网科普

https://www.bilibili.com/video/BV1jx421X7zH

上线个人网站科普和教程

https://www.bilibili.com/video/BV17S4y1P7qH

https://www.bilibili.com/video/BV1WC411a73A/（需要服务器）

https://www.bilibili.com/video/BV1CM4y137kF 网站小工具

https://www.bilibili.com/video/BV1UZ4y197i1 （无需服务器）

视频传输过程

https://www.bilibili.com/video/BV1U541197c9/ （0:23）

你现在在看的视频，都是以数据包的形式，发送到你的手机上，当你点击播放按钮时，手机会先查询视频网站的IP地址，然后向网站所在的IP请求视频文件，如果再用Wifi看视频，手机会先通过无线信号，把数据包发送给路由器，路由器把无线信号变成电信号，转发给光猫，光猫会给数据包贴上邮票，证明你已经偷了宽带的钱，再把数据包发送到小区的分光器，分放器收集全小区的包裹，统一发送到运营商的OLT，OLT把附近所有小区的包裹，转发给汇聚交换机，交换机再汇聚所有OLT的包裹，上传给BRAS，全称是宽带接入服务器，主要作用是核验数据包上的邮票，假的包裹直接就给扣下了，真的包裹再上传给CR核心路由器，如果你住在北京，视频服务器也在北京，数据包就能通过CR，直接发送给视频网站，网站在发送视频包裹，原路返回到你的电脑和手机，但如果视频网站在上海，那数据还得通过CR上传到骨干网再通，过骨干网发送到上海的网站，骨干网有点像跨程高速，连接了主要城市节点，然后上海的网站通过高速，再把数据8发送到你家，所以在这看来，只是点了下播放按钮，但背后的流程超级夸张，这样一个链接了几十亿人的巨大网络，想要稳定运行真的很难，数据包发送过程中，任何环节出了问题，都有可能导致网卡网慢，甚至直接断网


网站成本

https://www.bilibili.com/video/BV12Z421b7s1

## 开头

当你遇到了观看在线视频卡顿的情况，你是否尝试过以下行为

一、重启路由器，但没一会儿又卡到爆炸了？
二、叫宽带运营商上门维修，师傅总是说网络正常，甚至给你推销升级套餐。

在视频开始之前，你可以检查家里的网络是否存在以下几种情况

1.家庭组网的方案糟糕，大别野用着一个路由器强撑，Wi-Fi信号十分差劲
2.办理宽带送的路由器性能羸弱，跑不满你买的千兆带宽
3.运营商服务人员不够专业，给你把路由器接到了光猫的百兆口上
4.装修师傅粗心大意，给你的水晶头面板没做好，本来要接8根线却只接了4根线
最后排除所有可能影响网速的因素，你发现买的网线又不对，用的还是旧款的五类网线，而现在主流的网线是超五类和六类

如果你解决了本地问题，打开测速网一测，家里的网速快到起飞，你迫不及待地打开了你珍藏许久的网站
可遗憾的是，还是卡顿
这并不是你的问题，而是网站自身的问题

那本期视频将告诉你，网站卡顿背后不可告人的秘密，首先聊聊网站是如何被搭建的

## 如何搭建网站

这，是你的电脑，下载好你精选的小视频和小电影，想方设法地让世界各地的人都能访问

再加点装饰，让大家访问的时候都能看到精美的界面

你也可以像我一样，搭建一个自己网站https://yanmai0.wordpress.com/

（网页展示）

我在这个网站上放了视频，还上传了一些博客

做好之后，任何人都可以看到这个的网站

而这，只需要几分钟，你也可以完成一个属于你的网站

（网页发布操作录制及文稿）

我使用的是wordpress制作的 https://wordpress.com/

注册进入后
输入你想要创造的域名，选择免费的域名，
再选择一个免费的设计
最后就发布成功啦，
你还可以进一步修改网站名称，增加你喜欢的页面
成功的同学们快快在评论区分享你的网站吧

相信你在尝试之后，内心蠢蠢欲动，想要做一个自己的B站

可是，要建一个B站这样的视频网站并没有这么简单，需要考虑如何在人多的时候避免卡顿，要配备上万台高性能服务器，还要大量的硬盘来存储视频……

## 视频是如何传输到你的手机上的

但请你想象一下

你已经成功搭建了一个CiliCili，你该想办法把视频传输给别人了

你的灵感来源于物流快递，有了收件人信息，计算好发送路线，你就可以把他们想要的包裹发送到目的地

于是乎，视频从存储的地方，通过网络一点点传输。每个视频是由很多小小的‘包裹’组成的，这些包裹先从你的网站出发，经过很多设备和路线，最终到达“收件人”的手机。

虽然只是在手机上点了一下播放按钮，但实际上，这背后有很多设备在帮忙，把视频安全快速地送到目的地。

## 卡顿的外部原因

随着在线人数越来越多，你的网站变得越来越卡，这是为什么呢？

为了削减成本，你把C站服务器设置在一个偏远的地区

视频需要穿越很长的传输距离，还要经过很多复杂的网络线路，这样一来就容易丢失一些数据包，导致视频不流畅。

另外，如果你的服务器本身性能一般，同时有太多人喜欢看你的C站，这也会让视频出现卡顿。

想要让视频传输更加顺畅，你除了掏钱升级设备之外，还可以偷偷降低视频的分辨率和码率，但希望你通过网站上的广告盈利后，能快点升级服务器，不然观众们会失望的。毕竟没有他们，也没人愿意为平台投放更多广告。